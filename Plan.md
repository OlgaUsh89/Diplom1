# Планирование автоматизации тестирования

### 1. Перечень автоматизируемых сценариев 
   
   **Тестовые данные:**  
   
* Номер карты: 16 арабских цифр. Номер 4444 4444 4444 4441, статус УТВЕРЖДЕН. Номер 4444 4444 4444 4442, статус ОТКЛОНЕН.

* Месяц: арабские цифры от 01 до 12.

* Год: две последние цифры года (цифры арабские).

* Владелец: символы латиницы, верхний регистр, дефис и пробел.

* CVC/CVV - 3 арабские цифры.

  **UI-тесты**
  
 **Положительные тесты:**

1. Заполнение полей формы "Оплата по карте" валидными значениями. Ожидаемый результат: появление сообщения об успешной оплате.
   
2. Заполнение полей формы "Кредит по данным карты" валидными значениями. Ожидаемый результат: появляется сообщение об успешной оплате.
   
3. Отказ в оплате тура при попытке оплатить действующей дебетовой картой со статусом ОТКЛОНЕН. Ожидаемый результат: появляется сообщение об отказе оплаты.
   
4. Отказ в кредите при попытке оформить его на действующую карту со статусом ОТКЛОНЕН. Ожидаемый результат: появляется сообщение об отказе в кредите.

 **Отрицательные тесты:**

 1. Заполнение поля "Номер карты" формы "Оплата по карте" 16 случайными цифрами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об отказе в оплате.

 2. Заполнение поля "Номер карты" формы "Оплата по карте" 15 цифрами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимой длине поля.

 3. Заполнение поля "Номер карты" формы "Оплата по карте" 17 цифрами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимой длине поля.

 4. Заполнение поля "Номер карты" формы "Оплата по карте" спецсимволами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о неверно введенном номере карты.

 5. Оставить поле "Номер карты" формы "Оплата по карте" пустым. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об обязательном заполнении поля.

 6-10. Аналогичные сценарии для формы "Кредит по данным карты".

 11. Заполнение поля "Месяц" формы "Оплата по карте" цифрами 00. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 12. Заполнение поля "Месяц" формы "Оплата по карте" цифрами 13. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 13. Заполнение поля "Месяц" формы "Оплата по карте" спецсимволами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 14. Оставить поле "Месяц" формы "Оплата по карте"пустым. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об обязательном заполнении поля.

 15. Заполнение поля "Месяц" формы "Оплата по карте" одной арабской цифрой. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 16. Заполнение поля "Год" формы "Оплата по карте" цифрами 00. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 17. Заполнение поля "Год" формы "Оплата по карте" спецсимволами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 18. Оставить поле "Год" формы "Оплата по карте" пустым. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об обязательном заполнении поля.

 19. Заполнение поля "Год" формы "Оплата по карте" последними цифрами уже прошедшего года. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 20. Заполнение поля "Владелец" формы "Оплата по карте" буквами кириллицы. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 21. Заполнение поля "Владелец" формы "Оплата по карте" спецсимволами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 22. Оставить поле "Владелец" формы "Оплата по карте" пустым. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об обязательном заполнении поля.

 23. Заполнение поля "Владелец" формы "Оплата по карте" цифрами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 24. Поставить в начале поля "Владелец" формы "Оплата по карте" пробел и заполнить далее валидными данными. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
 
 25. Заполнить поле "Владелец" формы "Оплата по карте" валидным значением с пробелом в конце. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 26. Поставить в начале поля "Владелец" формы "Оплата по карте" дефис и заполнить далее валидными данными. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
 
 27. Заполнить поле "Владелец" формы "Оплата по карте" валидным значением с дефисом в конце. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 28. Заполнить поле "Владелец" формы "Оплата по карте" латинскими буквами нижнего регистра. Остальные поля заполнены валидными значениями. Ожидаемый результат: автозамена на буквы верхнего регистра.

 29. Заполнить поле "CVC/CVV" формы "Оплата по карте" спецсимволами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 30. Оставить поле "CVC/CVV" формы "Оплата по карте" пустым. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об обязательном заполнении поля.

 31. Заполнить поле "CVC/CVV" формы "Оплата по карте" латинскими буквами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 32. Заполнить поле "CVC/CVV" формы "Оплата по карте" 2 арабскими цифрами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.

 33. Оставить форму "Оплата по карте" незаполненной. Ожидаемый результат: при нажатии на кнопку "Продолжить" появляется сообщение об обязательном заполнении полей формы.

   **API тестирование**
  
**Положительные тесты:**

 1. Отправить POST-запрос с валидными данными дебетовой карты на http://localhost:9999/payment. Ожидаемый результат: статус 200, в базе данных появляется соответсвующая запись.
 
 2. Отправить POST-запрос с валидными данными кредитной карты на http://localhost:9999/credit. Ожидаемый результат: статус 200, в базе данных появляется соответсвующая запись.

 3. Отправить POST-запрос с валидными данными дебетовой карты со статусом ОТКЛОНЕН на http://localhost:9999/payment. Ожидаемый результат: статус 200, в базе данных появляется соответсвующая запись.

 4. Отправить POST-запрос с валидными данными кредитной карты со статусом ОТКЛОНЕН на http://localhost:9999/credit. Ожидаемый результат: статус 200, в базе данных появляется соответсвующая запись.


**Отрицательные тесты:**

 1. Отправить POST-запрос с пустым телом запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 2. Отправить POST-запрос с пустым телом запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 3. Отправить POST-запрос с пустым значением "Номер карты" в теле запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 4. Отправить POST-запрос с пустым значением "Номер карты" в теле запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 5. Отправить POST-запрос с пустым значением "Месяц" в теле запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 6. Отправить POST-запрос с пустым значением "Месяц" в теле запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 7. Отправить POST-запрос с пустым значением "Год" в теле запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 8. Отправить POST-запрос с пустым значением "Год" в теле запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 9. Отправить POST-запрос с пустым значением "Владелец" в теле запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 10. Отправить POST-запрос с пустым значением "Владелец" в теле запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 11. Отправить POST-запрос с пустым значением "CVC/CVV" в теле запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 12. Отправить POST-запрос с пустым значением "CVC/CVV" в теле запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.

 ### 2. Перечень используемых инструментов с обоснованием выбора

   1.  IntelliJ IDEA - программное приложение, которое помогает эффективно разрабатывать программный код.
   3.  Java - язык программирования, достаточно распространенный и относительно несложный.
   4.  Gradle - система автоматической сборки с легкой настройкой зависимостей и преимуществом производительности.
   5.  Библиотека JUnit - позволяет проверить код программы без значительных усилий и не занимает много времени.
   6.  Selenide - автоматизированная система тестирования c лаконичным синтаксисом, автоматическим созданием скриншотов.
   7.  Docker Compose — средство для определения и запуска приложений с несколькими контейнерами, позволяющее, запустить СУБД.
   8.  Git - программа, позволяющая отслеживать любые изменения в файлах, хранить их версии и оперативно возвращаться в любое сохранённое состояние.
   9.  Faker - пакет для генерации тестовых данных.
   10.  Allure - самый популярный фреймворк для создания отчетов автотестирования.
   11. DBeaver - работа с симулятором и отправки SQL-запросов.

### 3. Перечень и описание возможных рисков при автоматизации

   1. Ошибки в работе реального сайта, т.к тестирование проходит не на реальном банковском сервисе
   2. Обращение к БД после каждого прогона испытаний
   3. Отсутствие тестовых меток в структуре страницы для реализации автотестов
   4. Изменение структуры страницы при уже разработанных автотестах (изменение полей, селекторов)
   5. Сложность в настройке SUT из-за использования двух баз данных
   6. Отсутствие документации по сервису, невозможность определить, какие тестовые данные являются подходящими.

### 4. Интервальная оценка с учётом рисков в часах  
   
   * Предварительная настройка - 10
   * Написание автотестов - 32
   * Создание баг-репортов и отчетов по результатам выполнения автотестов - 8
   * Подготовка итогового отчета по автоматизации - 6

    Итого: 56 часов

### 5. План сдачи работ: когда будут готовы автотесты, результаты их прогона

   * Написание автотестов 06.11.23 - 07.11.23
   * Подготовка баг-репортов и отчета по прогону автотестов 10.11.23 - 11.11.2023
   * Подготовка отчета по результатам автоматизации 16.11.23
